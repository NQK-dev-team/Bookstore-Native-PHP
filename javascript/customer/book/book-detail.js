(function (_0x492501, _0xd7f400) { const _0x3b3f24 = _0x4743, _0x15592b = _0x492501(); while (!![]) { try { const _0x300c91 = parseInt(_0x3b3f24(0x10a)) / 0x1 + parseInt(_0x3b3f24(0x161)) / 0x2 * (parseInt(_0x3b3f24(0x10c)) / 0x3) + parseInt(_0x3b3f24(0x136)) / 0x4 * (parseInt(_0x3b3f24(0x12b)) / 0x5) + -parseInt(_0x3b3f24(0x155)) / 0x6 + -parseInt(_0x3b3f24(0x150)) / 0x7 + -parseInt(_0x3b3f24(0x142)) / 0x8 + parseInt(_0x3b3f24(0x13d)) / 0x9; if (_0x300c91 === _0xd7f400) break; else _0x15592b['push'](_0x15592b['shift']()); } catch (_0x494533) { _0x15592b['push'](_0x15592b['shift']()); } } }(_0x5093, 0xb9a70)); let mode = null, interval = null, ratingFilter = null, rating = null; const limit = 0x5; let showAll = !0x1; function adjustAmount(_0x55f85e) { const _0x56c8c1 = _0x4743; _0x55f85e ? $('#book_ammount')[_0x56c8c1(0x15a)](parseInt($('#book_ammount')['val']()) + 0x1) : $(_0x56c8c1(0x11d))[_0x56c8c1(0x15a)](parseInt($(_0x56c8c1(0x11d))['val']()) - 0x1), checkAmmount(); } function checkAmmount(_0x50c632 = !0x1) { const _0x2d21d6 = _0x4743, _0x1f2b60 = parseInt($(_0x2d21d6(0x11d))[_0x2d21d6(0x15a)]()), _0x3bc66a = parseInt($(_0x2d21d6(0x110))[_0x2d21d6(0x11b)]()); if (_0x50c632) { if (clearCustomValidity($(_0x2d21d6(0x11d))[_0x2d21d6(0x10b)](0x0)), _0x1f2b60 < 0x0) return void reportCustomValidity($('#book_ammount')[_0x2d21d6(0x10b)](0x0), _0x2d21d6(0x14e)); if (0x0 === _0x1f2b60) return void reportCustomValidity($(_0x2d21d6(0x11d))[_0x2d21d6(0x10b)](0x0), 'Book\x20amount\x20can\x20not\x20be\x20zero!'); if (_0x1f2b60 > _0x3bc66a) return void reportCustomValidity($(_0x2d21d6(0x11d))[_0x2d21d6(0x10b)](0x0), _0x2d21d6(0x13c)); } _0x1f2b60 < 0x1 && _0x3bc66a >= 0x1 ? $(_0x2d21d6(0x11d))[_0x2d21d6(0x15a)](0x1) : _0x1f2b60 > _0x3bc66a && $(_0x2d21d6(0x11d))[_0x2d21d6(0x15a)](_0x3bc66a), $(_0x2d21d6(0x146))[_0x2d21d6(0x12a)](_0x2d21d6(0x139), 0x0 === _0x3bc66a); } function checkInStock() { const _0x2d8fa5 = _0x4743; $[_0x2d8fa5(0x167)]({ 'url': _0x2d8fa5(0x13a), 'method': _0x2d8fa5(0x119), 'data': { 'id': encodeData(bookID) }, 'dataType': _0x2d8fa5(0x147), 'success': function (_0x4c8aba) { const _0x4a297a = _0x2d8fa5; _0x4c8aba[_0x4a297a(0x125)] ? ($('#errorModal')['modal']('show'), $(_0x4a297a(0x144))[_0x4a297a(0x11b)](_0x4c8aba[_0x4a297a(0x125)])) : ($(_0x4a297a(0x110))['text'](_0x4c8aba[_0x4a297a(0x13b)]), checkAmmount(!0x0)); }, 'error': function (_0x598c0e) { const _0x1ed4ef = _0x2d8fa5; _0x598c0e['status'] >= 0x1f4 ? ($(_0x1ed4ef(0x148))[_0x1ed4ef(0x12d)](_0x1ed4ef(0x157)), $(_0x1ed4ef(0x144))[_0x1ed4ef(0x11b)]('Server\x20encountered\x20error!')) : ($(_0x1ed4ef(0x148))[_0x1ed4ef(0x12d)](_0x1ed4ef(0x157)), $(_0x1ed4ef(0x144))[_0x1ed4ef(0x11b)](_0x598c0e['responseJSON']['error'])); } }); } async function addToCart() { const _0x510110 = _0x4743; if (0x1 === mode) { let _0x10c3ec = !0x0; if (await $[_0x510110(0x167)]({ 'url': _0x510110(0x159), 'method': 'GET', 'data': { 'id': encodeData(bookID) }, 'dataType': _0x510110(0x147), 'success': function (_0x1d9af7) { const _0x3fb92a = _0x510110; _0x1d9af7[_0x3fb92a(0x125)] && ($(_0x3fb92a(0x148))[_0x3fb92a(0x12d)](_0x3fb92a(0x157)), $(_0x3fb92a(0x144))[_0x3fb92a(0x11b)](_0x1d9af7[_0x3fb92a(0x125)])), _0x1d9af7[_0x3fb92a(0x13b)] && ($(_0x3fb92a(0x156))['text'](_0x3fb92a(0x12c)), $(_0x3fb92a(0x120))[_0x3fb92a(0x12d)](_0x3fb92a(0x157)), _0x10c3ec = !0x1); }, 'error': function (_0x16aef5) { const _0x5877e8 = _0x510110; _0x16aef5['status'] >= 0x1f4 ? ($('#errorModal')[_0x5877e8(0x12d)](_0x5877e8(0x157)), $(_0x5877e8(0x144))[_0x5877e8(0x11b)]('Server\x20encountered\x20error!')) : ($(_0x5877e8(0x148))[_0x5877e8(0x12d)](_0x5877e8(0x157)), $(_0x5877e8(0x144))[_0x5877e8(0x11b)](_0x16aef5['responseJSON']['error'])); } }), !_0x10c3ec) return; if (await $[_0x510110(0x167)]({ 'url': _0x510110(0x12f), 'method': _0x510110(0x119), 'data': { 'id': encodeData(bookID) }, 'dataType': _0x510110(0x147), 'success': function (_0x21c25a) { const _0xc2ecf3 = _0x510110; _0x21c25a[_0xc2ecf3(0x125)] && ($('#errorModal')[_0xc2ecf3(0x12d)]('show'), $('#error_message')[_0xc2ecf3(0x11b)](_0x21c25a[_0xc2ecf3(0x125)])), _0x21c25a[_0xc2ecf3(0x13b)] && ($(_0xc2ecf3(0x156))[_0xc2ecf3(0x11b)](_0xc2ecf3(0x15c)), $('#customModal')[_0xc2ecf3(0x12d)](_0xc2ecf3(0x157)), _0x10c3ec = !0x1); }, 'error': function (_0x38518f) { const _0x35c656 = _0x510110; _0x38518f[_0x35c656(0x113)] >= 0x1f4 ? ($(_0x35c656(0x148))[_0x35c656(0x12d)](_0x35c656(0x157)), $(_0x35c656(0x144))['text'](_0x35c656(0x14c))) : ($(_0x35c656(0x148))[_0x35c656(0x12d)]('show'), $(_0x35c656(0x144))[_0x35c656(0x11b)](_0x38518f[_0x35c656(0x11a)][_0x35c656(0x125)])); } }), !_0x10c3ec) return; $['ajax']({ 'url': _0x510110(0x13e), 'method': _0x510110(0x114), 'data': { 'id': encodeData(bookID) }, 'headers': { 'X-CSRF-Token': CSRF_TOKEN }, 'dataType': _0x510110(0x147), 'success': function (_0x570d28) { const _0x146f6b = _0x510110; _0x570d28[_0x146f6b(0x125)] && ($('#errorModal')[_0x146f6b(0x12d)]('show'), $('#error_message')[_0x146f6b(0x11b)](_0x570d28[_0x146f6b(0x125)])), _0x570d28['query_result'] && ($('#customMessage')[_0x146f6b(0x11b)]('E-book\x20added\x20to\x20cart!'), $(_0x146f6b(0x120))[_0x146f6b(0x12d)](_0x146f6b(0x157))); }, 'error': function (_0x30941a) { const _0x23b051 = _0x510110; _0x30941a[_0x23b051(0x113)] >= 0x1f4 ? ($('#errorModal')[_0x23b051(0x12d)](_0x23b051(0x157)), $(_0x23b051(0x144))['text'](_0x23b051(0x14c))) : ($(_0x23b051(0x148))[_0x23b051(0x12d)]('show'), $(_0x23b051(0x144))[_0x23b051(0x11b)](_0x30941a['responseJSON'][_0x23b051(0x125)])); } }); } else { if (0x2 === mode) { const _0x2811a7 = parseInt($(_0x510110(0x11d))[_0x510110(0x15a)]()); $[_0x510110(0x167)]({ 'url': _0x510110(0x133), 'method': _0x510110(0x114), 'data': { 'id': encodeData(bookID), 'amount': encodeData(_0x2811a7) }, 'headers': { 'X-CSRF-Token': CSRF_TOKEN }, 'dataType': _0x510110(0x147), 'success': function (_0x1b5801) { const _0x3f0b1b = _0x510110; _0x1b5801[_0x3f0b1b(0x125)] && ($(_0x3f0b1b(0x148))[_0x3f0b1b(0x12d)](_0x3f0b1b(0x157)), $(_0x3f0b1b(0x144))[_0x3f0b1b(0x11b)](_0x1b5801['error'])), _0x1b5801['query_result'] && ($(_0x3f0b1b(0x156))[_0x3f0b1b(0x11b)](_0x3f0b1b(0x10e)), $('#customModal')[_0x3f0b1b(0x12d)](_0x3f0b1b(0x157))); }, 'error': function (_0x69b65) { const _0x5a8561 = _0x510110; _0x69b65[_0x5a8561(0x113)] >= 0x1f4 ? ($(_0x5a8561(0x148))[_0x5a8561(0x12d)](_0x5a8561(0x157)), $(_0x5a8561(0x144))[_0x5a8561(0x11b)](_0x5a8561(0x14c))) : ($(_0x5a8561(0x148))[_0x5a8561(0x12d)](_0x5a8561(0x157)), $(_0x5a8561(0x144))['text'](_0x69b65[_0x5a8561(0x11a)]['error'])); } }); } } } function _0x5093() { const _0x31c62f = ['flex', 'empty', '#customModal', '#bookAvgRating', '#deleteBtn', 'block', '#showBtn', 'error', '#hardcover', 'name', '#3-stars', 'Rating\x20deleted!', 'prop', '1722620nvsGWW', 'You\x20have\x20already\x20bought\x20this\x20E-book!', 'modal', '#ebook', '/ajax_service/customer/book/check_in_cart.php', '#avgRatingPanel', '<div\x20class=\x27borderBottom\x20py-3\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27d-flex\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20alt=\x27User\x20profile\x20image\x27\x20src=\x27', 'imagePath', '/ajax_service/customer/book/add_to_cart_physical.php', 'checked', '</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>', '8bhKhfz', 'length', '</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27text-warning\x27>', 'disabled', '/ajax_service/customer/cart/get_in_stock.php', 'query_result', 'Book\x20amount\x20exceeds\x20in\x20stock\x20amount!', '25134525zXPpiK', '/ajax_service/customer/book/add_to_cart_file.php', '/ajax_service/customer/book/delete_rating.php', 'DELETE', 'display', '11468968qmcoPx', '#4-stars', '#error_message', 'ratingTime', '#addToCartBtn', 'json', '#errorModal', 'none', '#avgRating', 'star', 'Server\x20encountered\x20error!', '#addToCartForm', 'Book\x20amount\x20can\x20not\x20be\x20negative!', '#ebookPrice', '10639160ISXCMC', 'css', '#ratingList', 'inline-block', 'append', '4762854oLVanX', '#customMessage', 'show', '</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x27mt-3\x27>', '/ajax_service/customer/book/check_bought.php', 'val', 'change', 'This\x20E-book\x20has\x20already\x20been\x20added\x20to\x20your\x20cart!', 'preventDefault', '#1-star', '</span>(', '\x27\x20class=\x27ratingImage\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27ms-2\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x27mb-0\x20fw-medium\x27>', '238fwStKC', 'target', '#amountDisplayer', '#totalRatings', '#5-stars', '#hardcoverPrice', 'ajax', '#noRating', '<button\x20onclick=\x27showAll=false;\x20fetchRatings()\x27\x20class=\x27border-0\x20bg-white\x27>Show\x20Less\x20<i\x20class=\x22bi\x20bi-chevron-up\x22></i></button>', '/ajax_service/customer/book/submit_rating.php', '584836LfQuzK', 'get', '11121GBhWfJ', '<button\x20onclick=\x27showAll=true;\x20fetchRatings()\x27\x20class=\x27border-0\x20bg-white\x27>Show\x20All\x20<i\x20class=\x22bi\x20bi-chevron-down\x22></i></button>', 'Hardcover\x20added\x20to\x20cart!', 'submit', '#in_stock', 'value', 'Please\x20rate\x20the\x20product!', 'status', 'POST', 'Rating\x20submitted!', 'comment', '#ratingForm', '#2-stars', 'GET', 'responseJSON', 'text', '#comment', '#book_ammount']; _0x5093 = function () { return _0x31c62f; }; return _0x5093(); } function setRatingFilter(_0x5dc061, _0x266ae3) { const _0xbf8102 = _0x4743; _0x5dc061[_0xbf8102(0x162)][_0xbf8102(0x134)] && (ratingFilter = _0x266ae3, showAll = !0x1, fetchRatings()); } function selectRatingFilter(_0x458825) { const _0x15c82e = _0x4743; ratingFilter = _0x458825['target'][_0x15c82e(0x111)], showAll = !0x1, fetchRatings(); } function setRating(_0xe622f6, _0x312cd9) { const _0x59bbc2 = _0x4743; _0xe622f6[_0x59bbc2(0x162)][_0x59bbc2(0x134)] && (rating = _0x312cd9); } async function fetchRatings() { const _0x131644 = _0x4743; await getBookRating(), $[_0x131644(0x167)]({ 'url': '/ajax_service/customer/book/get_ratings.php', 'method': 'GET', 'data': { 'id': encodeData(bookID), 'rating': encodeData(ratingFilter), 'limit': encodeData(limit), 'showAll': encodeData(showAll) }, 'dataType': 'json', 'success': function (_0x62c6cc) { const _0x37d366 = _0x131644; if (_0x62c6cc[_0x37d366(0x125)]) $('#errorModal')[_0x37d366(0x12d)](_0x37d366(0x157)), $(_0x37d366(0x144))[_0x37d366(0x11b)](_0x62c6cc[_0x37d366(0x125)]); else { if (_0x62c6cc[_0x37d366(0x13b)]) { showAll ? ($('#showBtn')['empty'](), $(_0x37d366(0x124))['append'](_0x37d366(0x108))) : ($(_0x37d366(0x124))[_0x37d366(0x11f)](), $(_0x37d366(0x124))['append'](_0x37d366(0x10d))), _0x62c6cc[_0x37d366(0x13b)][0x0][_0x37d366(0x137)] ? $(_0x37d366(0x124))[_0x37d366(0x151)]('display', _0x37d366(0x153)) : $(_0x37d366(0x124))['css'](_0x37d366(0x141), 'none'), limit >= _0x62c6cc['query_result'][0x1] ? $(_0x37d366(0x124))[_0x37d366(0x151)](_0x37d366(0x141), _0x37d366(0x149)) : $(_0x37d366(0x124))[_0x37d366(0x151)]('display', _0x37d366(0x153)); let _0x39923f = ''; $('#ratingList')['empty'](); for (let _0x28055f = 0x0; _0x28055f < _0x62c6cc[_0x37d366(0x13b)][0x0][_0x37d366(0x137)]; _0x28055f++)_0x39923f += _0x37d366(0x131) + _0x62c6cc[_0x37d366(0x13b)][0x0][_0x28055f][_0x37d366(0x132)] + _0x37d366(0x160) + _0x62c6cc[_0x37d366(0x13b)][0x0][_0x28055f][_0x37d366(0x127)] + _0x37d366(0x138) + displayRatingStars(_0x62c6cc[_0x37d366(0x13b)][0x0][_0x28055f][_0x37d366(0x14b)]) + '</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20class=\x27text-secondary\x27>' + _0x62c6cc['query_result'][0x0][_0x28055f][_0x37d366(0x145)] + _0x37d366(0x158) + _0x62c6cc[_0x37d366(0x13b)][0x0][_0x28055f][_0x37d366(0x116)] + _0x37d366(0x135); $(_0x37d366(0x152))['append'](_0x39923f); } } }, 'error': function (_0x485900) { const _0x3ffd2d = _0x131644; _0x485900[_0x3ffd2d(0x113)] >= 0x1f4 ? ($(_0x3ffd2d(0x148))[_0x3ffd2d(0x12d)](_0x3ffd2d(0x157)), $(_0x3ffd2d(0x144))[_0x3ffd2d(0x11b)](_0x3ffd2d(0x14c))) : ($(_0x3ffd2d(0x148))[_0x3ffd2d(0x12d)](_0x3ffd2d(0x157)), $('#error_message')[_0x3ffd2d(0x11b)](_0x485900['responseJSON'][_0x3ffd2d(0x125)])); } }); } function resetRatingForm() { const _0x292c92 = _0x4743; 0x1 === originalRating ? $(_0x292c92(0x15e))[_0x292c92(0x12a)]('checked', !0x0) : 0x2 === originalRating ? $(_0x292c92(0x118))[_0x292c92(0x12a)]('checked', !0x0) : 0x3 === originalRating ? $('#3-stars')[_0x292c92(0x12a)]('checked', !0x0) : 0x4 === originalRating ? $(_0x292c92(0x143))[_0x292c92(0x12a)](_0x292c92(0x134), !0x0) : 0x5 === originalRating ? $(_0x292c92(0x165))[_0x292c92(0x12a)](_0x292c92(0x134), !0x0) : ($(_0x292c92(0x15e))[_0x292c92(0x12a)](_0x292c92(0x134), !0x1), $(_0x292c92(0x118))[_0x292c92(0x12a)](_0x292c92(0x134), !0x1), $(_0x292c92(0x128))[_0x292c92(0x12a)](_0x292c92(0x134), !0x1), $('#4-stars')[_0x292c92(0x12a)](_0x292c92(0x134), !0x1), $(_0x292c92(0x165))[_0x292c92(0x12a)](_0x292c92(0x134), !0x1)), $(_0x292c92(0x11c))[_0x292c92(0x15a)](originalComment); } async function getBookRating() { const _0x21dca9 = _0x4743; await $[_0x21dca9(0x167)]({ 'url': '/ajax_service/customer/book/get_book_rating.php', 'method': _0x21dca9(0x119), 'data': { 'id': encodeData(bookID) }, 'dataType': 'json', 'success': function (_0x582a8e) { const _0x34fd90 = _0x21dca9; if (_0x582a8e[_0x34fd90(0x125)]) $('#errorModal')[_0x34fd90(0x12d)](_0x34fd90(0x157)), $(_0x34fd90(0x144))[_0x34fd90(0x11b)](_0x582a8e[_0x34fd90(0x125)]); else { if (_0x582a8e['query_result']) { $('#bookAvgRating')[_0x34fd90(0x11f)](); const _0x15bfaf = _0x582a8e['query_result'][0x0] ? _0x582a8e[_0x34fd90(0x13b)][0x0] : 0x0; $(_0x34fd90(0x121))[_0x34fd90(0x154)]('<span\x20class=\x22text-warning\x20fw-medium\x22>' + displayRatingStars(_0x15bfaf) + _0x34fd90(0x15f) + _0x15bfaf + ')'), $(_0x34fd90(0x14a))[_0x34fd90(0x11b)](_0x15bfaf), $(_0x34fd90(0x130))[_0x34fd90(0x11f)](), $(_0x34fd90(0x130))['append'](displayRatingStars(_0x15bfaf)), $(_0x34fd90(0x164))['text']('(' + _0x582a8e['query_result'][0x1] + ')'), 0x0 === _0x582a8e[_0x34fd90(0x13b)][0x1] ? ($(_0x34fd90(0x168))['css']('display', _0x34fd90(0x123)), $(_0x34fd90(0x124))['css'](_0x34fd90(0x141), _0x34fd90(0x149))) : ($(_0x34fd90(0x168))[_0x34fd90(0x151)](_0x34fd90(0x141), _0x34fd90(0x149)), $('#showBtn')[_0x34fd90(0x151)](_0x34fd90(0x141), _0x34fd90(0x153))); } } }, 'error': function (_0x40701b) { const _0x3aa6f6 = _0x21dca9; _0x40701b['status'] >= 0x1f4 ? ($(_0x3aa6f6(0x148))[_0x3aa6f6(0x12d)](_0x3aa6f6(0x157)), $(_0x3aa6f6(0x144))['text'](_0x3aa6f6(0x14c))) : ($(_0x3aa6f6(0x148))['modal'](_0x3aa6f6(0x157)), $(_0x3aa6f6(0x144))[_0x3aa6f6(0x11b)](_0x40701b[_0x3aa6f6(0x11a)][_0x3aa6f6(0x125)])); } }); } function deleteRating() { const _0x46dd00 = _0x4743; $[_0x46dd00(0x167)]({ 'url': _0x46dd00(0x13f), 'method': _0x46dd00(0x140), 'data': { 'id': encodeData(bookID) }, 'headers': { 'X-CSRF-Token': CSRF_TOKEN }, 'dataType': _0x46dd00(0x147), 'success': function (_0x6cef92) { const _0x8aa9e3 = _0x46dd00; _0x6cef92[_0x8aa9e3(0x125)] && ($(_0x8aa9e3(0x148))[_0x8aa9e3(0x12d)]('show'), $('#error_message')[_0x8aa9e3(0x11b)](_0x6cef92[_0x8aa9e3(0x125)])), _0x6cef92[_0x8aa9e3(0x13b)] && ($(_0x8aa9e3(0x156))['text'](_0x8aa9e3(0x129)), $(_0x8aa9e3(0x120))['modal']('show'), fetchRatings(), $(_0x8aa9e3(0x122))[_0x8aa9e3(0x151)]('display', _0x8aa9e3(0x149)), originalRating = null, rating = null, originalComment = '', resetRatingForm()); }, 'error': function (_0x443335) { const _0x59b993 = _0x46dd00; _0x443335['status'] >= 0x1f4 ? ($(_0x59b993(0x148))[_0x59b993(0x12d)](_0x59b993(0x157)), $(_0x59b993(0x144))['text'](_0x59b993(0x14c))) : ($(_0x59b993(0x148))[_0x59b993(0x12d)](_0x59b993(0x157)), $('#error_message')['text'](_0x443335[_0x59b993(0x11a)][_0x59b993(0x125)])); } }); } function _0x4743(_0x181040, _0x3f378e) { const _0x509352 = _0x5093(); return _0x4743 = function (_0x47433b, _0x556266) { _0x47433b = _0x47433b - 0x108; let _0x2e4002 = _0x509352[_0x47433b]; return _0x2e4002; }, _0x4743(_0x181040, _0x3f378e); } $(document)['ready'](function () { const _0x22422b = _0x4743; $(_0x22422b(0x14d))[_0x22422b(0x10f)](function (_0x162a62) { const _0x5f3c93 = _0x22422b; _0x162a62[_0x5f3c93(0x15d)](), addToCart(); }), $(_0x22422b(0x12e))['on'](_0x22422b(0x15b), function (_0x5ab251) { const _0x471b08 = _0x22422b; _0x5ab251[_0x471b08(0x162)][_0x471b08(0x134)] && (mode = 0x1, $('#amountDisplayer')['css'](_0x471b08(0x141), _0x471b08(0x149)), $(_0x471b08(0x14f))['css'](_0x471b08(0x141), _0x471b08(0x11e)), $(_0x471b08(0x166))['css'](_0x471b08(0x141), _0x471b08(0x149)), clearInterval(interval), $(_0x471b08(0x146))['prop']('disabled', !0x1)); }), $(_0x22422b(0x126))['on']('change', function (_0x15a968) { const _0x5105d0 = _0x22422b; _0x15a968['target'][_0x5105d0(0x134)] && (mode = 0x2, $(_0x5105d0(0x163))[_0x5105d0(0x151)](_0x5105d0(0x141), _0x5105d0(0x11e)), $(_0x5105d0(0x14f))[_0x5105d0(0x151)](_0x5105d0(0x141), _0x5105d0(0x149)), $('#hardcoverPrice')[_0x5105d0(0x151)]('display', _0x5105d0(0x11e)), checkInStock(), interval = setInterval(function () { checkInStock(); }, 0x2710)); }), $(_0x22422b(0x117))['submit'](function (_0x4ef82d) { const _0x39d29e = _0x22422b; if (_0x4ef82d[_0x39d29e(0x15d)](), null === rating) return $(_0x39d29e(0x148))['modal']('show'), void $(_0x39d29e(0x144))[_0x39d29e(0x11b)](_0x39d29e(0x112)); const _0x22ce73 = $('#comment')[_0x39d29e(0x15a)](); $[_0x39d29e(0x167)]({ 'url': _0x39d29e(0x109), 'method': _0x39d29e(0x114), 'data': { 'id': encodeData(bookID), 'rating': encodeData(rating), 'comment': encodeData(_0x22ce73) }, 'headers': { 'X-CSRF-Token': CSRF_TOKEN }, 'dataType': _0x39d29e(0x147), 'success': function (_0xf2f31e) { const _0x14f061 = _0x39d29e; _0xf2f31e[_0x14f061(0x125)] && ($(_0x14f061(0x148))[_0x14f061(0x12d)](_0x14f061(0x157)), $(_0x14f061(0x144))['text'](_0xf2f31e[_0x14f061(0x125)])), _0xf2f31e[_0x14f061(0x13b)] && ($(_0x14f061(0x156))[_0x14f061(0x11b)](_0x14f061(0x115)), $(_0x14f061(0x120))['modal']('show'), originalRating = rating, originalComment = _0x22ce73, fetchRatings(), $(_0x14f061(0x122))[_0x14f061(0x151)](_0x14f061(0x141), 'inline-block')); }, 'error': function (_0x56bee5) { const _0x67418c = _0x39d29e; _0x56bee5[_0x67418c(0x113)] >= 0x1f4 ? ($(_0x67418c(0x148))[_0x67418c(0x12d)](_0x67418c(0x157)), $(_0x67418c(0x144))[_0x67418c(0x11b)]('Server\x20encountered\x20error!')) : ($('#errorModal')[_0x67418c(0x12d)](_0x67418c(0x157)), $(_0x67418c(0x144))[_0x67418c(0x11b)](_0x56bee5[_0x67418c(0x11a)][_0x67418c(0x125)])); } }); }), rating = originalRating, resetRatingForm(), ratingFilter = 'all', fetchRatings(); });