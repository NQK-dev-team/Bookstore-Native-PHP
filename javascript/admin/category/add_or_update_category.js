const _0x4f7269 = _0x1701; function _0x1920() { const _0x3a45af = ['ajax', '446980xVcbJe', '#errorModal', 'ready', '#categoryName', '163246zbfCxK', '2984BkRlKr', '#updateSuccessModal', '#categoryDescription', 'hidden.bs.modal', 'Category\x20name\x20is\x20empty!', '1941408xOJbAf', '/ajax_service/admin/category/add_category.php', '#addModal', 'name', '/ajax_service/admin/category/update_category.php', 'text', 'Category\x20description\x20must\x20be\x20at\x20most\x20500\x20characters\x20long\x20or\x20less!', 'PUT', 'Edit\x20Category', 'error', 'json', 'query_result', '#inputModal', 'modal', 'hide', 'click', '#inputModalTitle', 'val', 'responseJSON', 'show', '3tbMBgi', '#updateModal', '#inputModalConfirm', '2241NVKsqe', 'Category\x20name\x20must\x20be\x20at\x20most\x20255\x20characters\x20long\x20or\x20less!', '#addSuccessModal', 'POST', 'off', 'length', '1619935fcfQVq', 'Server\x20encountered\x20error!', '689619ZyxbZW', '#error_message', 'status', 'description', '580084zPKXPg', 'get']; _0x1920 = function () { return _0x3a45af; }; return _0x1920(); } (function (_0xff8f86, _0x2732fa) { const _0x543a3e = _0x1701, _0x2114ca = _0xff8f86(); while (!![]) { try { const _0x298749 = parseInt(_0x543a3e(0x127)) / 0x1 + -parseInt(_0x543a3e(0x12b)) / 0x2 * (parseInt(_0x543a3e(0x115)) / 0x3) + parseInt(_0x543a3e(0x124)) / 0x4 + -parseInt(_0x543a3e(0x11e)) / 0x5 + parseInt(_0x543a3e(0x131)) / 0x6 + -parseInt(_0x543a3e(0x120)) / 0x7 + -parseInt(_0x543a3e(0x12c)) / 0x8 * (parseInt(_0x543a3e(0x118)) / 0x9); if (_0x298749 === _0x2732fa) break; else _0x2114ca['push'](_0x2114ca['shift']()); } catch (_0x455778) { _0x2114ca['push'](_0x2114ca['shift']()); } } }(_0x1920, 0x4dc65)); let update_id = null, originalName = null, originalDescription = null; function _0x1701(_0x4993d8, _0x1fc1bd) { const _0x19208b = _0x1920(); return _0x1701 = function (_0x170157, _0x32a58a) { _0x170157 = _0x170157 - 0x115; let _0x1889b4 = _0x19208b[_0x170157]; return _0x1889b4; }, _0x1701(_0x4993d8, _0x1fc1bd); } function openEditModal(_0x1af41d) { const _0x5b307f = _0x1701; $[_0x5b307f(0x126)]({ 'url': '/ajax_service/admin/category/get_detail.php', 'method': 'GET', 'data': { 'id': encodeData(_0x1af41d) }, 'dataType': 'json', 'success': function (_0x463c78) { const _0x44df1c = _0x5b307f; _0x463c78[_0x44df1c(0x13a)] ? ($(_0x44df1c(0x128))[_0x44df1c(0x13e)](_0x44df1c(0x144)), $(_0x44df1c(0x121))[_0x44df1c(0x136)](_0x463c78[_0x44df1c(0x13a)])) : _0x463c78['query_result'] && ($(_0x44df1c(0x141))[_0x44df1c(0x136)](_0x44df1c(0x139)), $(_0x44df1c(0x117))['on'](_0x44df1c(0x140), () => { const _0x5d383e = _0x44df1c; $(_0x5d383e(0x116))[_0x5d383e(0x13e)](_0x5d383e(0x144)); }), $(_0x44df1c(0x13d))[_0x44df1c(0x13e)](_0x44df1c(0x144)), $(_0x44df1c(0x12a))[_0x44df1c(0x142)](_0x463c78[_0x44df1c(0x13c)][_0x44df1c(0x134)]), originalName = _0x463c78[_0x44df1c(0x13c)]['name'], $(_0x44df1c(0x12e))[_0x44df1c(0x142)](_0x463c78[_0x44df1c(0x13c)][_0x44df1c(0x123)]), originalDescription = _0x463c78[_0x44df1c(0x13c)][_0x44df1c(0x123)], update_id = _0x1af41d); }, 'error': function (_0x5ac950) { const _0x3b9e0a = _0x5b307f; _0x5ac950[_0x3b9e0a(0x122)] >= 0x1f4 ? ($(_0x3b9e0a(0x128))[_0x3b9e0a(0x13e)](_0x3b9e0a(0x144)), $(_0x3b9e0a(0x121))[_0x3b9e0a(0x136)]('Server\x20encountered\x20error!')) : ($(_0x3b9e0a(0x128))[_0x3b9e0a(0x13e)](_0x3b9e0a(0x144)), $(_0x3b9e0a(0x121))[_0x3b9e0a(0x136)](_0x5ac950[_0x3b9e0a(0x143)][_0x3b9e0a(0x13a)])); } }); } function openAddModal() { const _0x336965 = _0x1701; $(_0x336965(0x141))['text']('Add\x20Category'), $(_0x336965(0x117))['on'](_0x336965(0x140), () => { const _0x5227d8 = _0x336965; $(_0x5227d8(0x133))['modal'](_0x5227d8(0x144)); }), $(_0x336965(0x13d))['modal'](_0x336965(0x144)); } function updateCategory() { const _0xd6e003 = _0x1701; clearAllCustomValidity(); const _0x29e23d = encodeData($(_0xd6e003(0x12a))[_0xd6e003(0x142)]()), _0xedcdf5 = encodeData($('#categoryDescription')[_0xd6e003(0x142)]()); $('#updateModal')['modal'](_0xd6e003(0x13f)), '' !== _0x29e23d ? _0x29e23d[_0xd6e003(0x11d)] > 0xff ? reportCustomValidity($(_0xd6e003(0x12a))[_0xd6e003(0x125)](0x0), _0xd6e003(0x119)) : _0xedcdf5['length'] > 0x1f4 ? reportCustomValidity($(_0xd6e003(0x12e))['get'](0x0), _0xd6e003(0x137)) : $[_0xd6e003(0x126)]({ 'url': _0xd6e003(0x135), 'method': _0xd6e003(0x138), 'data': { 'id': encodeData(update_id), 'name': _0x29e23d, 'description': _0xedcdf5 }, 'dataType': _0xd6e003(0x13b), 'headers': { 'X-CSRF-Token': CSRF_TOKEN }, 'success': function (_0x1dcd1) { const _0x11f5ff = _0xd6e003; _0x1dcd1['error'] ? ($(_0x11f5ff(0x128))[_0x11f5ff(0x13e)](_0x11f5ff(0x144)), $('#error_message')[_0x11f5ff(0x136)](_0x1dcd1[_0x11f5ff(0x13a)])) : _0x1dcd1[_0x11f5ff(0x13c)] && ($(_0x11f5ff(0x13d))[_0x11f5ff(0x13e)]('hide'), $(_0x11f5ff(0x12d))[_0x11f5ff(0x13e)](_0x11f5ff(0x144))); }, 'error': function (_0x5ea02b) { const _0x2cf348 = _0xd6e003; _0x5ea02b['status'] >= 0x1f4 ? ($(_0x2cf348(0x128))[_0x2cf348(0x13e)](_0x2cf348(0x144)), $(_0x2cf348(0x121))['text'](_0x2cf348(0x11f))) : ($(_0x2cf348(0x128))[_0x2cf348(0x13e)](_0x2cf348(0x144)), $(_0x2cf348(0x121))[_0x2cf348(0x136)](_0x5ea02b[_0x2cf348(0x143)][_0x2cf348(0x13a)])); } }) : reportCustomValidity($(_0xd6e003(0x12a))['get'](0x0), _0xd6e003(0x130)); } function addCategory() { const _0x523a9f = _0x1701; clearAllCustomValidity(); const _0x31a53e = encodeData($('#categoryName')[_0x523a9f(0x142)]()), _0x566065 = encodeData($(_0x523a9f(0x12e))[_0x523a9f(0x142)]()); $(_0x523a9f(0x133))[_0x523a9f(0x13e)]('hide'), '' !== _0x31a53e ? _0x31a53e[_0x523a9f(0x11d)] > 0xff ? reportCustomValidity($('#categoryName')['get'](0x0), 'Category\x20name\x20must\x20be\x20at\x20most\x20255\x20characters\x20long\x20or\x20less!') : _0x566065[_0x523a9f(0x11d)] > 0x1f4 ? reportCustomValidity($('#categoryDescription')[_0x523a9f(0x125)](0x0), _0x523a9f(0x137)) : $['ajax']({ 'url': _0x523a9f(0x132), 'method': _0x523a9f(0x11b), 'data': { 'name': _0x31a53e, 'description': _0x566065 }, 'dataType': _0x523a9f(0x13b), 'headers': { 'X-CSRF-Token': CSRF_TOKEN }, 'success': function (_0x12a6b6) { const _0x5de29d = _0x523a9f; _0x12a6b6[_0x5de29d(0x13a)] ? ($(_0x5de29d(0x128))['modal'](_0x5de29d(0x144)), $(_0x5de29d(0x121))[_0x5de29d(0x136)](_0x12a6b6[_0x5de29d(0x13a)])) : _0x12a6b6['query_result'] && ($(_0x5de29d(0x13d))[_0x5de29d(0x13e)](_0x5de29d(0x13f)), $(_0x5de29d(0x11a))['modal'](_0x5de29d(0x144))); }, 'error': function (_0x437731) { const _0x3347a9 = _0x523a9f; _0x437731[_0x3347a9(0x122)] >= 0x1f4 ? ($(_0x3347a9(0x128))[_0x3347a9(0x13e)]('show'), $(_0x3347a9(0x121))['text'](_0x3347a9(0x11f))) : ($(_0x3347a9(0x128))[_0x3347a9(0x13e)](_0x3347a9(0x144)), $(_0x3347a9(0x121))[_0x3347a9(0x136)](_0x437731[_0x3347a9(0x143)]['error'])); } }) : reportCustomValidity($(_0x523a9f(0x12a))[_0x523a9f(0x125)](0x0), _0x523a9f(0x130)); } function resetForm() { const _0x3c91b5 = _0x1701; $(_0x3c91b5(0x12a))[_0x3c91b5(0x142)](originalName), $(_0x3c91b5(0x12e))[_0x3c91b5(0x142)](originalDescription); } $(document)[_0x4f7269(0x129)](function () { const _0x3c32f6 = _0x4f7269; $(_0x3c32f6(0x13d))['on']('hidden.bs.modal', function () { const _0x7051ec = _0x3c32f6; update_id = null, $(_0x7051ec(0x117))[_0x7051ec(0x11c)]('click'), $(_0x7051ec(0x141))[_0x7051ec(0x136)](''), originalName = null, originalDescription = null, $(_0x7051ec(0x12a))[_0x7051ec(0x142)](originalName), $('#categoryDescription')[_0x7051ec(0x142)](originalDescription); }), $(_0x3c32f6(0x12d))['on'](_0x3c32f6(0x12f), function () { fetchCategoryList(); }), $('#addSuccessModal')['on']('hidden.bs.modal', function () { fetchCategoryList(); }); });