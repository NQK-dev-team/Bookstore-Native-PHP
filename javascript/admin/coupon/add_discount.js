const _0x51951a = _0x3df4; (function (_0x11c85a, _0x1919ba) { const _0x3f6616 = _0x3df4, _0x3c0b72 = _0x11c85a(); while (!![]) { try { const _0x570d23 = -parseInt(_0x3f6616(0x108)) / 0x1 * (-parseInt(_0x3f6616(0xfb)) / 0x2) + parseInt(_0x3f6616(0xd0)) / 0x3 * (parseInt(_0x3f6616(0xc6)) / 0x4) + -parseInt(_0x3f6616(0xe4)) / 0x5 * (parseInt(_0x3f6616(0xc9)) / 0x6) + parseInt(_0x3f6616(0xe6)) / 0x7 * (parseInt(_0x3f6616(0xda)) / 0x8) + -parseInt(_0x3f6616(0xf8)) / 0x9 + parseInt(_0x3f6616(0xce)) / 0xa * (parseInt(_0x3f6616(0xca)) / 0xb) + parseInt(_0x3f6616(0xf4)) / 0xc * (-parseInt(_0x3f6616(0x102)) / 0xd); if (_0x570d23 === _0x1919ba) break; else _0x3c0b72['push'](_0x3c0b72['shift']()); } catch (_0x4ead88) { _0x3c0b72['push'](_0x3c0b72['shift']()); } } }(_0x4a28, 0xce7f9)); function _0x4a28() { const _0x473aac = ['<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22couponName\x22\x20class=\x22form-label\x22>Coupon\x20Name:<span\x20class=\x22fw-bold\x20text-danger\x22>&nbsp;*</span></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x22\x20id=\x22couponName\x22\x20placeholder=\x22Enter\x20coupon\x20name\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27mt-2\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22couponPercentage\x22\x20class=\x22form-label\x22>Discount\x20Percentage:<span\x20class=\x22fw-bold\x20text-danger\x22>&nbsp;*</span></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20class=\x22form-control\x22\x20id=\x22couponPercentage\x22\x20placeholder=\x22Enter\x20value\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27mt-2\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22couponPeople\x22\x20class=\x22form-label\x22>Number\x20of\x20People:<span\x20class=\x22fw-bold\x20text-danger\x22>&nbsp;*</span></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20class=\x22form-control\x22\x20id=\x22couponPeople\x22\x20placeholder=\x22Enter\x20value\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>', '<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22couponName\x22\x20class=\x22form-label\x22>Coupon\x20Name:<span\x20class=\x22fw-bold\x20text-danger\x22>&nbsp;*</span></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x22\x20id=\x22couponName\x22\x20placeholder=\x22Enter\x20coupon\x20name\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27mt-2\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22couponPercentage\x22\x20class=\x22form-label\x22>Discount\x20Percentage:<span\x20class=\x22fw-bold\x20text-danger\x22>&nbsp;*</span></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20class=\x22form-control\x22\x20id=\x22couponPercentage\x22\x20placeholder=\x22Enter\x20value\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27mt-2\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22couponPoint\x22\x20class=\x22form-label\x22>Accumulated\x20Points:<span\x20class=\x22fw-bold\x20text-danger\x22>&nbsp;*</span></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20class=\x22form-control\x22\x20id=\x22couponPoint\x22\x20placeholder=\x22Enter\x20value\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>', '2147944mKVzzp', 'Missing\x20start\x20date!', 'empty', '2265096tkKBmE', '253eSSKjC', 'ajax', 'length', 'Number\x20of\x20people\x20value\x20invalid!', '620220sVCHJy', 'hide', '6UGPcez', '#couponPoint', 'Missing\x20accumulated\x20point\x20value!', 'Server\x20encountered\x20error!', '#btncheck1', '#errorModal', 'POST', 'Accumulated\x20point\x20value\x20invalid!', 'Missing\x20coupon\x20name!', '#addCouponForm', '122176FbJUoO', '#addModal', 'json', '#confirmAddModal', 'status', 'submit', 'filter', '#couponPercentage', 'val', 'error', '10iWqXpB', 'map', '14vNcDMa', '#couponEndDate', 'preventDefault', 'Missing\x20number\x20of\x20people\x20value!', 'query_result', 'Missing\x20end\x20date!', 'pointer', 'setHours', 'disabled', 'append', '#couponSelect', '#couponBookApply', 'prop', 'number', '9372GcooZz', '#couponPeople', 'show.bs.modal', 'responseJSON', '11460402gbZjEA', '/ajax_service/admin/coupon/add_discount.php', 'join', '233374NguRZz', 'text', 'target', 'modal', '<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22couponName\x22\x20class=\x22form-label\x22>Coupon\x20Name:<span\x20class=\x22fw-bold\x20text-danger\x22>&nbsp;*</span></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x22\x20id=\x22couponName\x22\x20placeholder=\x22Enter\x20coupon\x20name\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27mt-2\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22couponPercentage\x22\x20class=\x22form-label\x22>Discount\x20Percentage:<span\x20class=\x22fw-bold\x20text-danger\x22>&nbsp;*</span></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20class=\x22form-control\x22\x20id=\x22couponPercentage\x22\x20min=\x220\x22\x20placeholder=\x22Enter\x20value\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27mt-2\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22couponStartDate\x22\x20class=\x22form-label\x22>Start\x20Date:<span\x20class=\x22fw-bold\x20text-danger\x22>&nbsp;*</span></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22date\x22\x20class=\x22form-control\x22\x20id=\x22couponStartDate\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27mt-2\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22couponEndDate\x22\x20class=\x22form-label\x22>End\x20Date:<span\x20class=\x22fw-bold\x20text-danger\x22>&nbsp;*</span></label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22date\x22\x20class=\x22form-control\x22\x20id=\x22couponEndDate\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27mt-2\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22form-label\x22>Books\x20Applied:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22btn-check\x22\x20id=\x22btncheck1\x22\x20autocomplete=\x22off\x22\x20onclick=\x22selectAllBookAddModal(event)\x22\x20data-default-check-state=false>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22btn\x20btn-outline-success\x20btn-sm\x22\x20for=\x22btncheck1\x22>All\x20Books</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20readonly\x20class=\x22form-control\x20pointer\x20mt-2\x22\x20id=\x22couponBookApply\x22\x20onclick=\x22chooseBook()\x22\x20rows=\x225\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>', 'Missing\x20discount\x20percentage\x20value!', 'End\x20date\x20must\x20be\x20after\x20or\x20the\x20same\x20day\x20as\x20today!', '5941DrQelD', '#error_message', '#successAddModal', '#couponStartDate', 'Start\x20date\x20must\x20be\x20before\x20or\x20the\x20same\x20day\x20as\x20end\x20date!', 'addClass', '6qXmpWI', 'get', '#couponName', 'Selected\x20`Coupon\x20Type`\x20data\x20type\x20invalid!', 'checked', 'Discount\x20percentage\x20value\x20invalid!', 'ready', 'show', 'Coupon\x20name\x20must\x20be\x20at\x20most\x20255\x20characters\x20long\x20or\x20less!']; _0x4a28 = function () { return _0x473aac; }; return _0x4a28(); } function openAddModal() { const _0x1eeade = _0x3df4, _0x304c18 = parseInt(encodeData($('#couponSelect')[_0x1eeade(0xe2)]())); if (_0x1eeade(0xf3) != typeof _0x304c18 || isNaN(_0x304c18) || _0x304c18 < 0x0 || _0x304c18 > 0x3) return $(_0x1eeade(0xd5))[_0x1eeade(0xfe)](_0x1eeade(0xc2)), void $('#error_message')[_0x1eeade(0xfc)](_0x1eeade(0x10b)); 0x1 === _0x304c18 ? (textareaDefaultValue = '', $(_0x1eeade(0xd9))[_0x1eeade(0xef)]($(_0x1eeade(0xff)))) : 0x2 === _0x304c18 ? $(_0x1eeade(0xd9))[_0x1eeade(0xef)]($(_0x1eeade(0xc5))) : 0x3 === _0x304c18 && $(_0x1eeade(0xd9))['append']($(_0x1eeade(0xc4))), $(_0x1eeade(0xdb))[_0x1eeade(0xfe)](_0x1eeade(0xc2)); } function _0x3df4(_0x44302f, _0x335ea1) { const _0x4a28d4 = _0x4a28(); return _0x3df4 = function (_0x3df46a, _0x12497a) { _0x3df46a = _0x3df46a - 0xc1; let _0x11044c = _0x4a28d4[_0x3df46a]; return _0x11044c; }, _0x3df4(_0x44302f, _0x335ea1); } function selectAllBookAddModal(_0x519c1f) { const _0x3eca8e = _0x3df4; $(_0x3eca8e(0xf1))[_0x3eca8e(0xf2)](_0x3eca8e(0xee), _0x519c1f[_0x3eca8e(0xfd)]['checked']), _0x519c1f[_0x3eca8e(0xfd)]['checked'] ? (bookApply = [], $('#couponBookApply')[_0x3eca8e(0xe2)](''), $(_0x3eca8e(0xf1))['removeClass']('pointer')) : $('#couponBookApply')[_0x3eca8e(0x107)](_0x3eca8e(0xec)); } function addCoupon() { const _0x1a9edc = _0x3df4, _0x3e7e52 = parseInt(encodeData($(_0x1a9edc(0xf0))[_0x1a9edc(0xe2)]())); if (_0x1a9edc(0xf3) != typeof _0x3e7e52 || isNaN(_0x3e7e52) || _0x3e7e52 < 0x0 || _0x3e7e52 > 0x3) return $(_0x1a9edc(0xd5))[_0x1a9edc(0xfe)](_0x1a9edc(0xc2)), void $(_0x1a9edc(0x103))[_0x1a9edc(0xfc)](_0x1a9edc(0x10b)); if (0x1 === _0x3e7e52) { const _0x1f3a9d = encodeData($(_0x1a9edc(0x10a))['val']()), _0x21eb61 = $(_0x1a9edc(0xe1))[_0x1a9edc(0xe2)]() ? parseFloat(encodeData($(_0x1a9edc(0xe1))[_0x1a9edc(0xe2)]())) : '', _0x368a0c = encodeData($(_0x1a9edc(0x105))[_0x1a9edc(0xe2)]()), _0x511a11 = encodeData($(_0x1a9edc(0xe7))[_0x1a9edc(0xe2)]()); if (!_0x1f3a9d) return void reportCustomValidity($(_0x1a9edc(0x10a))[_0x1a9edc(0x109)](0x0), _0x1a9edc(0xd8)); if (_0x1f3a9d[_0x1a9edc(0xcc)] > 0xff) return void reportCustomValidity($('#couponName')[_0x1a9edc(0x109)](0x0), 'Coupon\x20name\x20must\x20be\x20at\x20most\x20255\x20characters\x20long\x20or\x20less!'); if ('' === _0x21eb61) return void reportCustomValidity($(_0x1a9edc(0xe1))[_0x1a9edc(0x109)](0x0), _0x1a9edc(0x100)); if (_0x1a9edc(0xf3) != typeof _0x21eb61 || isNaN(_0x21eb61) || _0x21eb61 <= 0x0 || _0x21eb61 > 0x64) return void reportCustomValidity($(_0x1a9edc(0xe1))['get'](0x0), _0x1a9edc(0x10d)); const _0x45185e = new Date(_0x368a0c), _0x34d2c1 = new Date(_0x511a11), _0x30544d = new Date(); if (_0x45185e['setHours'](0x0, 0x0, 0x0, 0x0), _0x34d2c1[_0x1a9edc(0xed)](0x0, 0x0, 0x0, 0x0), _0x30544d['setHours'](0x0, 0x0, 0x0, 0x0), !_0x368a0c) return void reportCustomValidity($(_0x1a9edc(0x105))[_0x1a9edc(0x109)](0x0), _0x1a9edc(0xc7)); if (_0x45185e < _0x30544d) return void reportCustomValidity($('#couponStartDate')['get'](0x0), 'Start\x20date\x20must\x20be\x20after\x20or\x20the\x20same\x20day\x20as\x20today!'); if (!_0x511a11) return void reportCustomValidity($(_0x1a9edc(0xe7))[_0x1a9edc(0x109)](0x0), _0x1a9edc(0xeb)); if (_0x34d2c1 < _0x30544d) return void reportCustomValidity($(_0x1a9edc(0xe7))['get'](0x0), _0x1a9edc(0x101)); if (_0x45185e > _0x34d2c1) return void reportCustomValidity($(_0x1a9edc(0x105))[_0x1a9edc(0x109)](0x0), _0x1a9edc(0x106)); $['ajax']({ 'url': _0x1a9edc(0xf9), 'type': 'POST', 'data': { 'type': _0x3e7e52, 'name': _0x1f3a9d, 'discount': _0x21eb61, 'start': _0x368a0c, 'end': _0x511a11, 'allBook': $(_0x1a9edc(0xd4))['prop'](_0x1a9edc(0x10c)), 'bookApply': bookApply[_0x1a9edc(0xcc)] ? bookApply[_0x1a9edc(0xe0)](_0x26fbbe => '' !== _0x26fbbe['trim']())[_0x1a9edc(0xe5)](_0x3d0006 => encodeData(_0x3d0006))[_0x1a9edc(0xfa)](',') : '' }, 'headers': { 'X-CSRF-Token': CSRF_TOKEN }, 'dataType': 'json', 'success': function (_0x4bfe03) { const _0x2c2d65 = _0x1a9edc; _0x4bfe03[_0x2c2d65(0xe3)] ? ($('#errorModal')[_0x2c2d65(0xfe)](_0x2c2d65(0xc2)), $(_0x2c2d65(0x103))[_0x2c2d65(0xfc)](_0x4bfe03['error'])) : _0x4bfe03['query_result'] && ($(_0x2c2d65(0xdb))['modal'](_0x2c2d65(0xcf)), $(_0x2c2d65(0x104))[_0x2c2d65(0xfe)](_0x2c2d65(0xc2))), fetchCouponList(); }, 'error': function (_0x4109c7) { const _0x3100d0 = _0x1a9edc; _0x4109c7[_0x3100d0(0xde)] >= 0x1f4 ? ($('#errorModal')[_0x3100d0(0xfe)]('show'), $('#error_message')[_0x3100d0(0xfc)]('Server\x20encountered\x20error!')) : ($('#errorModal')['modal'](_0x3100d0(0xc2)), $(_0x3100d0(0x103))[_0x3100d0(0xfc)](_0x4109c7[_0x3100d0(0xf7)][_0x3100d0(0xe3)])); } }); } else { if (0x2 === _0x3e7e52) { const _0x50dc86 = encodeData($('#couponName')[_0x1a9edc(0xe2)]()), _0x1f73b2 = $('#couponPercentage')['val']() ? parseFloat(encodeData($(_0x1a9edc(0xe1))[_0x1a9edc(0xe2)]())) : '', _0x5c186a = $(_0x1a9edc(0xd1))['val']() ? parseFloat(encodeData($(_0x1a9edc(0xd1))[_0x1a9edc(0xe2)]())) : ''; if (!_0x50dc86) return void reportCustomValidity($(_0x1a9edc(0x10a))[_0x1a9edc(0x109)](0x0), _0x1a9edc(0xd8)); if (_0x50dc86['length'] > 0xff) return void reportCustomValidity($(_0x1a9edc(0x10a))[_0x1a9edc(0x109)](0x0), _0x1a9edc(0xc3)); if ('' === _0x1f73b2) return void reportCustomValidity($(_0x1a9edc(0xe1))['get'](0x0), 'Missing\x20discount\x20percentage\x20value!'); if (_0x1a9edc(0xf3) != typeof _0x1f73b2 || isNaN(_0x1f73b2) || _0x1f73b2 <= 0x0 || _0x1f73b2 > 0x64) return void reportCustomValidity($('#couponPercentage')[_0x1a9edc(0x109)](0x0), _0x1a9edc(0x10d)); if ('' === _0x5c186a) return void reportCustomValidity($(_0x1a9edc(0xd1))[_0x1a9edc(0x109)](0x0), _0x1a9edc(0xd2)); if (_0x1a9edc(0xf3) != typeof _0x5c186a || isNaN(_0x5c186a) || _0x5c186a <= 0x0) return void reportCustomValidity($('#couponPoint')[_0x1a9edc(0x109)](0x0), _0x1a9edc(0xd7)); $[_0x1a9edc(0xcb)]({ 'url': '/ajax_service/admin/coupon/add_discount.php', 'type': _0x1a9edc(0xd6), 'data': { 'type': _0x3e7e52, 'name': _0x50dc86, 'discount': _0x1f73b2, 'point': _0x5c186a }, 'headers': { 'X-CSRF-Token': CSRF_TOKEN }, 'dataType': _0x1a9edc(0xdc), 'success': function (_0x3e3809) { const _0x5d4cd7 = _0x1a9edc; _0x3e3809[_0x5d4cd7(0xe3)] ? ($(_0x5d4cd7(0xd5))[_0x5d4cd7(0xfe)](_0x5d4cd7(0xc2)), $('#error_message')[_0x5d4cd7(0xfc)](_0x3e3809[_0x5d4cd7(0xe3)])) : _0x3e3809[_0x5d4cd7(0xea)] && ($(_0x5d4cd7(0xdb))['modal']('hide'), $(_0x5d4cd7(0x104))['modal'](_0x5d4cd7(0xc2))), fetchCouponList(); }, 'error': function (_0x34cb9e) { const _0x3e3db6 = _0x1a9edc; _0x34cb9e['status'] >= 0x1f4 ? ($(_0x3e3db6(0xd5))[_0x3e3db6(0xfe)]('show'), $(_0x3e3db6(0x103))[_0x3e3db6(0xfc)](_0x3e3db6(0xd3))) : ($(_0x3e3db6(0xd5))['modal'](_0x3e3db6(0xc2)), $(_0x3e3db6(0x103))[_0x3e3db6(0xfc)](_0x34cb9e['responseJSON'][_0x3e3db6(0xe3)])); } }); } else { if (0x3 === _0x3e7e52) { const _0x1ecdee = encodeData($(_0x1a9edc(0x10a))['val']()), _0x290fc0 = $(_0x1a9edc(0xe1))[_0x1a9edc(0xe2)]() ? parseFloat(encodeData($(_0x1a9edc(0xe1))[_0x1a9edc(0xe2)]())) : '', _0xbd9351 = $(_0x1a9edc(0xf5))[_0x1a9edc(0xe2)]() ? parseInt(encodeData($(_0x1a9edc(0xf5))['val']())) : ''; if (!_0x1ecdee) return void reportCustomValidity($(_0x1a9edc(0x10a))[_0x1a9edc(0x109)](0x0), _0x1a9edc(0xd8)); if (_0x1ecdee[_0x1a9edc(0xcc)] > 0xff) return void reportCustomValidity($(_0x1a9edc(0x10a))['get'](0x0), _0x1a9edc(0xc3)); if ('' === _0x290fc0) return void reportCustomValidity($('#couponPercentage')[_0x1a9edc(0x109)](0x0), _0x1a9edc(0x100)); if (_0x1a9edc(0xf3) != typeof _0x290fc0 || isNaN(_0x290fc0) || _0x290fc0 <= 0x0 || _0x290fc0 > 0x64) return void reportCustomValidity($('#couponPercentage')[_0x1a9edc(0x109)](0x0), 'Discount\x20percentage\x20value\x20invalid!'); if ('' === _0xbd9351) return void reportCustomValidity($('#couponPeople')[_0x1a9edc(0x109)](0x0), _0x1a9edc(0xe9)); if (_0x1a9edc(0xf3) != typeof _0xbd9351 || isNaN(_0xbd9351) || _0xbd9351 <= 0x0) return void reportCustomValidity($('#couponPeople')['get'](0x0), _0x1a9edc(0xcd)); $[_0x1a9edc(0xcb)]({ 'url': '/ajax_service/admin/coupon/add_discount.php', 'type': _0x1a9edc(0xd6), 'data': { 'type': _0x3e7e52, 'name': _0x1ecdee, 'discount': _0x290fc0, 'people': _0xbd9351 }, 'headers': { 'X-CSRF-Token': CSRF_TOKEN }, 'dataType': 'json', 'success': function (_0x22ecd9) { const _0x361054 = _0x1a9edc; _0x22ecd9['error'] ? ($('#errorModal')['modal'](_0x361054(0xc2)), $('#error_message')[_0x361054(0xfc)](_0x22ecd9['error'])) : _0x22ecd9[_0x361054(0xea)] && ($(_0x361054(0xdb))[_0x361054(0xfe)](_0x361054(0xcf)), $('#successAddModal')[_0x361054(0xfe)](_0x361054(0xc2))), fetchCouponList(); }, 'error': function (_0x4b7171) { const _0xeda26f = _0x1a9edc; _0x4b7171[_0xeda26f(0xde)] >= 0x1f4 ? ($(_0xeda26f(0xd5))[_0xeda26f(0xfe)]('show'), $(_0xeda26f(0x103))[_0xeda26f(0xfc)](_0xeda26f(0xd3))) : ($(_0xeda26f(0xd5))[_0xeda26f(0xfe)](_0xeda26f(0xc2)), $(_0xeda26f(0x103))[_0xeda26f(0xfc)](_0x4b7171[_0xeda26f(0xf7)]['error'])); } }); } } } } $(document)[_0x51951a(0xc1)](function () { const _0x4acb7a = _0x51951a; $(_0x4acb7a(0xd9))[_0x4acb7a(0xdf)](function (_0xc01c89) { const _0x4a16b3 = _0x4acb7a; _0xc01c89[_0x4a16b3(0xe8)](), $(_0x4a16b3(0xdd))[_0x4a16b3(0xfe)](_0x4a16b3(0xc2)); }), $('#addModal')['on']('hidden.bs.modal', function () { const _0x27cf3d = _0x4acb7a; $(_0x27cf3d(0xd9))[_0x27cf3d(0xc8)](), bookApply = [], originalBookApply = [], textareaDefaultValue = ''; }), $(_0x4acb7a(0xdb))['on'](_0x4acb7a(0xf6), function () { bookApply = [], originalBookApply = [], textareaDefaultValue = ''; }); });